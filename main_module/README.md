# Инструкция

## Локальный запуск (1 опция)
1. Если используете локальную БД, то исправьте параметры подключения к ней в application.yaml.
Либо запустите БД в докере (предполагаем, что докер установлен на ПК):

**docker run --name shop-v2-db -e POSTGRES_DB=shop_v2_db -e POSTGRES_USER=postgres -e POSTGRES_PASSWORD=postgres -p 5432:5432 -d postgres**

2. Выполните команды для запуска самого приложения (тесты выполнятся автоматически, либо используйте команду **mvn clean test** чтобы запустить только тесты):

**mvn clean package**


**java -jar target/internet_shop_project-0.0.1-SNAPSHOT.jar**

3. Предлагается перейти в админскую панель http://localhost:8080/products/import и загрузить какие-нибудь товары. 
Можно использовать приложенный внутрь проекта файл *init_data.csv* или создать собственный такого же типа.  

## Локальный запуск (2 опция)
1. Подготовьте и запустите БД любым удобным способом.
2. Настройте конфигурацию для запуска (в любой удобной IDE), запустите приложение.
3. Пользуйтесь приложением (предлагается начать с импорта).

## Запуск в докере
1. Соберите проект (mvn clean package), проверьте что архив в /target называется так же, как в Dockerfile.
2. Используйте docker-compose: docker-compose up --build.
3. Пользуйтесь приложением (предлагается начать с импорта).


# Главная страница - http://localhost:8080/products

# Технические характеристики

1. Приложение написано на Spring Boot.
2. Код приложения хранится в Git-репозитории GitHub.
3. Сборка приложения осуществляется с помощью системы сборки Maven.
4. Код приложения написан на Java 21.
5. Web UI приложения должен использовать проект Spring WebFlux и подключаться через соответствующий стартер.
6. Приложение должно использовать Spring Data R2DBC для доступа к данным в БД.
7. База данных приложения - персистентная (PostgreSQL).
8. Приложение можно собрать из исходников и запустить локально.
9. Приложение должно быть упаковано в Executable JAR и запускаться в Embedded Web Server (по умолчанию Netty).
10. Приложение быть покрыто тестами (юнит-, интеграционными) с использованием JUnit 5, TestContext Framework, Spring Boot Test и кеширования контекстов.
11. Executable JAR упакован в Docker-контейнер с открытым веб-портом для доступа из браузера (8080).

# Функциональность

1. Веб-приложение представляет собой витрину товаров, которые пользователь может положить в корзину и купить.

2. Приложение состоит из шести основных частей (модулей):
    - страницы витрины товаров, доступных для просмотра и покупки;
    - страницы товара;
    - страницы корзины покупателя;
    - страницы всех заказов;
    - страницы заказа;
    - сервиса покупки.

3. Страница витрины товаров — это веб-страница (HTML + JavaScript), на которой представлены:
    - список товаров, доступных для заказа (картинка, название, цена, кнопка добавления в корзину/удаления из неё, кнопка изменения количества товара в корзине);
    - список товаров может быть представлен в любом виде (списком, плиткой);
    - есть пагинация (по 10, 20, 50, 100 товаров);
    - сверху строка поиска с фильтрацией по вхождению слова в название товара;
    - сверху доступна сортировка по цене, алфавиту.

4. При нажатии на товар происходит переход на веб-страницу карточки товара, на которой представлены:
    - название, картинка, описание товара, возможность положить товар в корзину/удалить его, изменить количество в корзине;
    - цена товара.

5. В правом верхнем углу любой веб-страницы есть кнопка перехода в корзину, которая представляет собой:
    - веб-страницу со списком положенных в неё товаров, их количеством, ценой каждого товара и общей ценой всей корзины;
    - есть возможность удалить товар из корзины, изменить его количество;
    - есть кнопка оформления заказа.

6. В правом верхнем углу любой веб-страницы есть кнопка перехода на страницу заказов, которая представляет собой:
    - веб-страницу со списком всех оформленных заказов, суммой каждого заказа и общей суммой всех заказов;
    - при нажатии на заказ появляется веб-страница совершённого заказа.

7. На веб-странице заказа представлен список купленных товаров (картинка, название, цена).

8. При нажатии на кнопку оформления заказа происходит эмуляция оформления заказа, при этом происходит переход на страницу оформленного заказа.

9. Есть возможность загрузки списка товаров на витрину товаров (импорт из файла).